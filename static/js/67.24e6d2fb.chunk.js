"use strict";(self.webpackChunkpassenger=self.webpackChunkpassenger||[]).push([[67],{7673:function(e,t,a){a.r(t);var r=a(4165),n=a(5861),s=a(9439),l=a(2791),i=a(455),o=a(3575),u=a(9140),c=a(2469),d=a(3855),h=a(3360),p=(a(7781),a(7338)),x=a(184);t.default=function(){var e=(0,l.useState)([]),t=(0,s.Z)(e,2),a=t[0],Z=t[1],f=(0,o.a)().firestoreUser,m=(0,l.useState)(""),j=(0,s.Z)(m,2),b=j[0],v=j[1],N=(0,l.useState)(""),y=(0,s.Z)(N,2),g=y[0],C=y[1],S=(0,l.useState)(""),L=(0,s.Z)(S,2),k=L[0],B=L[1],O=(0,l.useState)(""),G=(0,s.Z)(O,2),w=G[0],P=G[1],U=(0,l.useState)(""),D=(0,s.Z)(U,2),E=D[0],F=D[1],R=(0,l.useState)(!0),W=(0,s.Z)(R,2),q=W[0],z=W[1],A=(0,l.useState)(""),H=(0,s.Z)(A,2),I=H[0],J=H[1];function K(){return(K=(0,n.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={},g&&g!==a.firstName&&(n.firstName=g),k&&k!==a.lastName&&(n.lastName=k),b&&b!==a.dateOfBirth&&(n.dateOfBirth=b),w&&w!==a.phoneNumber&&(n.phoneNumber=w),e.prev=6,F(""),z(!0),e.next=11,(0,i.RB)(a.uid,n);case 11:J("User updated"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),F("Failed to update user."),console.error(e.t0.message);case 18:z(!0);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){Z(f),C(f.firstName),B(f.lastName),v(f.dateOfBirth),P(f.phoneNumber)}),[f]),(0,x.jsx)(u.Z,{className:"h-100",children:(0,x.jsxs)(u.Z.Body,{style:{maxWidth:"500px"},children:[(0,x.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),E&&(0,x.jsx)(c.Z,{variant:"danger",children:E}),I&&(0,x.jsx)(c.Z,{variant:"success",children:I}),(0,x.jsxs)(d.Z,{onSubmit:function(e){return K.apply(this,arguments)},children:[(0,x.jsxs)(d.Z.Group,{id:"firstname",children:[(0,x.jsx)(d.Z.Label,{children:"Role"}),(0,x.jsx)(d.Z.Control,{type:"text",readOnly:!0,placeholder:a.role}),(0,x.jsx)(d.Z.Label,{children:"First name"}),(0,x.jsx)(d.Z.Control,{type:"text",value:g,onChange:function(e){C(e.target.value),z(!1)}})]}),(0,x.jsxs)(d.Z.Group,{id:"lastname",children:[(0,x.jsx)(d.Z.Label,{children:"Last name"}),(0,x.jsx)(d.Z.Control,{type:"text",value:k,onChange:function(e){B(e.target.value),z(!1)}})]}),(0,x.jsxs)(d.Z.Group,{id:"email",children:[(0,x.jsx)(d.Z.Label,{children:"Email"}),(0,x.jsx)(d.Z.Control,{type:"email",readOnly:!0,placeholder:a.email})]}),(0,x.jsxs)(d.Z.Group,{id:"dateOfBirth",children:[(0,x.jsx)(d.Z.Label,{children:"Date of birth"}),(0,x.jsx)(d.Z.Control,{type:"date",value:b,onChange:function(e){v(e.target.value),z(!1)}})]}),(0,x.jsxs)(d.Z.Group,{id:"phone",onChange:function(){z(!1)},children:[(0,x.jsx)(d.Z.Label,{children:"Phone"}),(0,x.jsx)("div",{className:"form-control",children:(0,x.jsx)(p.ZP,{type:"text",placeholder:a.phoneNumber,value:w,onChange:P})})]}),(0,x.jsx)(h.Z,{disabled:q,className:"mt-4",type:"submit",children:"Update Profile"})]})]})})}}}]);
//# sourceMappingURL=67.24e6d2fb.chunk.js.map