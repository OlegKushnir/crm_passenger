{"version":3,"file":"static/js/67.24e6d2fb.chunk.js","mappings":"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","sources":["components/Dashboard/Profile.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { updateUserFirestore } from \"../../firebase/firestore\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { Card, Form, Button, Alert } from \"react-bootstrap\";\r\nimport \"react-phone-number-input/style.css\";\r\nimport PhoneInput from \"react-phone-number-input\";\r\n\r\nconst Profile = () => {\r\n  const [profile, setProfile] = useState([]);\r\n  const { firestoreUser } = useAuth();\r\n  const [dateInput, setDateInput] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n\r\n  const [err, setErr] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const params = {};\r\n    if (firstName && firstName !== profile.firstName) params.firstName = firstName;\r\n    if (lastName && lastName !== profile.lastName) params.lastName = lastName;\r\n    if (dateInput && dateInput !== profile.dateOfBirth) params.dateOfBirth = dateInput;\r\n    if (phoneNumber && phoneNumber !== profile.phoneNumber) params.phoneNumber = phoneNumber;\r\n\r\n    try {\r\n      setErr(\"\");\r\n      setLoading(true);\r\n      await updateUserFirestore(profile.uid, params);\r\n      setMessage(\"User updated\");\r\n    } catch (error) {\r\n      setErr(\"Failed to update user.\");\r\n      console.error(error.message);\r\n    }\r\n    setLoading(true);\r\n  }\r\n\r\n  function handleDate(event) {\r\n    setDateInput(event.target.value);\r\n    setLoading(false);\r\n  }\r\n  function handleFirstName(event) {\r\n    setFirstName(event.target.value);\r\n    setLoading(false);\r\n  }\r\n  function handleLastName(event) {\r\n    setLastName(event.target.value);\r\n    setLoading(false);\r\n  }\r\n  function handlePhone() {\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setProfile(firestoreUser);\r\n    setFirstName(firestoreUser.firstName);\r\n    setLastName(firestoreUser.lastName);\r\n    setDateInput(firestoreUser.dateOfBirth);\r\n    setPhoneNumber(firestoreUser.phoneNumber);\r\n  }, [firestoreUser]);\r\n  \r\n  return (\r\n    <Card className=\"h-100\">\r\n      <Card.Body style={{maxWidth: \"500px\"}}>\r\n        <h2 className=\"text-center mb-4\">Profile</h2>\r\n        {err && <Alert variant=\"danger\">{err}</Alert>}\r\n        {message && <Alert variant=\"success\">{message}</Alert>}\r\n\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group id=\"firstname\">\r\n          <Form.Label>Role</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              readOnly\r\n              placeholder={profile.role}\r\n            />\r\n            <Form.Label>First name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              value={firstName}\r\n              onChange={handleFirstName}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group id=\"lastname\">\r\n            <Form.Label>Last name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              value={lastName}\r\n              onChange={handleLastName}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group id=\"email\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control type=\"email\" readOnly placeholder={profile.email} />\r\n          </Form.Group>\r\n          <Form.Group id=\"dateOfBirth\">\r\n            <Form.Label>Date of birth</Form.Label>\r\n            <Form.Control type=\"date\" value={dateInput} onChange={handleDate} />\r\n          </Form.Group>\r\n          <Form.Group id=\"phone\" onChange={handlePhone}>\r\n            <Form.Label>Phone</Form.Label>\r\n            <div className=\"form-control\">\r\n              <PhoneInput\r\n                type=\"text\"\r\n                placeholder={profile.phoneNumber}\r\n                value={phoneNumber}\r\n                onChange={setPhoneNumber}\r\n              />\r\n            </div>\r\n          </Form.Group>\r\n          <Button disabled={loading} className=\"mt-4\" type=\"submit\">\r\n            Update Profile\r\n          </Button>\r\n        </Form>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","profile","setProfile","firestoreUser","useAuth","_useState3","_useState4","dateInput","setDateInput","_useState5","_useState6","firstName","setFirstName","_useState7","_useState8","lastName","setLastName","_useState9","_useState10","phoneNumber","setPhoneNumber","_useState11","_useState12","err","setErr","_useState13","_useState14","loading","setLoading","_useState15","_useState16","message","setMessage","_handleSubmit","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","params","wrap","_context","prev","next","preventDefault","dateOfBirth","updateUserFirestore","uid","t0","console","error","stop","apply","arguments","useEffect","_jsx","Card","className","children","_jsxs","style","maxWidth","Alert","variant","Form","onSubmit","_x","id","type","readOnly","placeholder","role","value","onChange","target","email","PhoneInput","Button","disabled"],"sourceRoot":""}