"use strict";(self.webpackChunkpassenger=self.webpackChunkpassenger||[]).push([[93],{3093:function(e,r,n){n.r(r),n.d(r,{default:function(){return w}});var s=n(4165),a=n(5861),t=n(9439),c=n(2791),l=n(455),i=n(9140),u=n(2469),o=n(1413),d=n(5987),h=n(1694),p=n.n(h),x=n(162),Z=n(184),f=["bsPrefix","className","as"],j=c.forwardRef((function(e,r){var n=e.bsPrefix,s=e.className,a=e.as,t=void 0===a?"div":a,c=(0,d.Z)(e,f),l=(0,x.vE)(n,"row"),i=(0,x.pi)(),u=(0,x.zG)(),h="".concat(l,"-cols"),j=[];return i.forEach((function(e){var r,n=c[e];delete c[e],r=null!=n&&"object"===typeof n?n.cols:n;var s=e!==u?"-".concat(e):"";null!=r&&j.push("".concat(h).concat(s,"-").concat(r))})),(0,Z.jsx)(t,(0,o.Z)((0,o.Z)({ref:r},c),{},{className:p().apply(void 0,[s,l].concat(j))}))}));j.displayName="Row";var v=j,m=n(2677),b=n(3855),y=n(3360),g=function(e){var r=e.user,n=e.setErr,i=e.setMessage,u=(0,c.useState)(!0),o=(0,t.Z)(u,2),d=o[0],h=o[1],p=(0,c.useState)(""),x=(0,t.Z)(p,2),f=x[0],j=x[1],g="admin, manager, driver, passenger".split(", ");function w(){return(w=(0,a.Z)((0,s.Z)().mark((function e(a){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t={},f!==r.role&&(t.role=f),e.prev=3,n(""),e.next=7,(0,l.RB)(r.uid,t);case 7:i("User updated"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),n("Failed to update user."),console.error(e.t0.message);case 14:h(!0);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,Z.jsx)(b.Z,{onSubmit:function(e){return w.apply(this,arguments)},children:(0,Z.jsxs)(v,{className:"mb-2",children:[(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Control,{plaintext:!0,readOnly:!0,defaultValue:r.uid})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Control,{type:"email",readOnly:!0,placeholder:r.email})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Control,{type:"phone",readOnly:!0,placeholder:r.phoneNumber})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Control,{as:"select",defaultValue:r.role,onChange:function(e){j(e.target.value),h(!1)},children:null===g||void 0===g?void 0:g.map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(y.Z,{disabled:d,type:"submit",className:"w-100",children:"Update"})})]})})},w=function(){var e=(0,c.useState)([]),r=(0,t.Z)(e,2),n=r[0],o=r[1],d=(0,c.useState)(""),h=(0,t.Z)(d,2),p=h[0],x=h[1],f=(0,c.useState)(""),j=(0,t.Z)(f,2),y=j[0],w=j[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.AW)();case 2:r=e.sent,o(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,Z.jsx)(i.Z,{className:"h-100",children:(0,Z.jsxs)(i.Z.Body,{children:[(0,Z.jsx)("h3",{children:"Edit users roles"}),p&&(0,Z.jsx)(u.Z,{variant:"danger",children:p}),y&&(0,Z.jsx)(u.Z,{variant:"success",children:y}),(0,Z.jsxs)(v,{children:[(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Label,{children:"ID"})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Label,{children:"Email"})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Label,{children:"Phone"})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Label,{children:"Role"})}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(b.Z.Label,{})})]}),null===n||void 0===n?void 0:n.map((function(e,r){return(0,Z.jsx)(g,{user:e,setErr:x,setMessage:w},r)}))]})})}}}]);
//# sourceMappingURL=93.537d2127.chunk.js.map